<div class="main-container">
  <div class="content-card">
    <h1 class="title">BookRecommender Proto</h1>
    <p class="subtitle">Angular 18 + .NET Minimal API</p>
    
    <div class="input-group">
      <label for="nameInput" class="input-label">Enter your name:</label>
      <input 
        id="nameInput"
        type="text" 
        [value]="nameInput()"
        (input)="updateNameInput($event)"
        placeholder="Your name"
        class="name-input"
      />
    </div>
    
    <button 
      (click)="callGreetingApi()"
      [disabled]="isLoading()"
      class="greeting-button"
      [class.loading]="isLoading()"
    >
      {{ isLoading() ? 'Loading...' : 'Say Hello!' }}
    </button>
    
    @if (greetingResponse()) {
      <div class="response-container">
        <h3 class="response-title">API Response:</h3>
        <p class="response-message">{{ greetingResponse() }}</p>
      </div>
    }
    
    <button 
      (click)="getAllNames()"
      [disabled]="isLoadingNames()"
      class="names-button"
      [class.loading]="isLoadingNames()"
    >
      {{ isLoadingNames() ? 'Loading...' : 'Get All Names' }}
    </button>
    
    @if (allNames().length > 0) {
      <div class="names-container">
        <h3 class="names-title">All Names in Database:</h3>
        <div class="names-list">
          @for (greeting of allNames(); track greeting.id) {
            <div class="name-item">
              <span class="name-text">{{ greeting.name }}</span>
              <span class="name-date">{{ formatDate(greeting.createdAt) }}</span>
            </div>
          }
        </div>
        <p class="names-count">Total: {{ allNames().length }} name(s)</p>
      </div>
    }
  </div>
</div>

<router-outlet />
